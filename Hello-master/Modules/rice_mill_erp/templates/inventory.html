{% extends "base.html" %}
{% block content %}
<h1>Inventory Management</h1>
<div class="card">
    <h3>Add Inventory Item</h3>
    <form method="POST" action="/add_inventory">
        <div class="form-group">
            <label>Item ID:</label>
            <input type="text" name="item_id" required>
        </div>
        <div class="form-group">
            <label>Name:</label>
            <input type="text" name="name" required>
        </div>
        <div class="form-group">
            <label>Type:</label>
            <select name="type" required>
                <option value="Raw Rice">Raw Rice</option>
                <option value="Processed Rice">Processed Rice</option>
                <option value="Broken Rice">Broken Rice</option>
                <option value="Rice Bran">Rice Bran</option>
            </select>
        </div>
        <div class="form-group">
            <label>Quantity:</label>
            <input type="number" name="quantity" step="0.01" required>
        </div>
        <div class="form-group">
            <label>Unit:</label>
            <select name="unit" required>
                <option value="Kg">Kg</option>
                <option value="Quintal">Quintal</option>
                <option value="Ton">Ton</option>
            </select>
        </div>
        <div class="form-group">
            <label>Rate (per unit):</label>
            <input type="number" name="rate" step="0.01" required>
        </div>
        <button type="submit" class="btn">Add Item</button>
    </form>
</div>
<div class="card">
    <h3>Inventory List</h3>
    <table>
        <tr>
            <th>Item ID</th>
            <th>Name</th>
            <th>Type</th>
            <th>Quantity</th>
            <th>Unit</th>
            <th>Rate</th>
            <th>Value</th>
        </tr>
        {% for id, item in inventory.items() %}
        <tr>
            <td>{{ id }}</td>
            <td>{{ item.name }}</td>
            <td>{{ item.type }}</td>
            <td>{{ item.quantity }}</td>
            <td>{{ item.unit }}</td>
            <td>₹{{ item.rate }}</td>
            <td>₹{{ "%.2f"|format(item.quantity * item.rate) }}</td>
        </tr>
        {% endfor %}
    </table>
</div>
{% endblock %}